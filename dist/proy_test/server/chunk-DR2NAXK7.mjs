import './polyfills.server.mjs';
import{b as E,d as k,e as g,f as I,g as M,i as V,j as T,k as G,o as B,p as P,r as A}from"./chunk-T7QUTHYJ.mjs";import{Ea as b,F as d,G as f,Mb as S,Pb as L,Qb as F,Z as l,ea as p,ga as s,k as w,ka as e,kb as y,la as t,ma as m,qa as v,qb as _,ra as c,v as u,wa as r,x,xa as h,ya as C}from"./chunk-W6XYX7DX.mjs";import"./chunk-5XUXGTUW.mjs";function H(i,a){if(i&1&&(e(0,"div",43)(1,"p"),r(2),t()()),i&2){let o=c();l(2),h(o.errorMessage)}}function q(i,a){i&1&&(e(0,"div"),r(1," El correo electr\xF3nico es obligatorio. "),t())}function z(i,a){i&1&&(e(0,"div"),r(1," Ingresa un correo electr\xF3nico v\xE1lido. "),t())}function D(i,a){if(i&1&&(e(0,"div",44),p(1,q,2,0,"div",45)(2,z,2,0,"div",45),t()),i&2){let o=c();l(),s("ngIf",o.emailControl==null||o.emailControl.errors==null?null:o.emailControl.errors.required),l(),s("ngIf",o.emailControl==null||o.emailControl.errors==null?null:o.emailControl.errors.email)}}function R(i,a){i&1&&(d(),e(0,"svg",46),m(1,"path",47)(2,"path",48),t())}function Z(i,a){i&1&&(d(),e(0,"svg",46),m(1,"path",49),t())}function O(i,a){i&1&&(e(0,"div"),r(1," La contrase\xF1a es obligatoria. "),t())}function U(i,a){i&1&&(e(0,"div"),r(1," La contrase\xF1a debe tener al menos 8 caracteres. "),t())}function J(i,a){if(i&1&&(e(0,"div",44),p(1,O,2,0,"div",45)(2,U,2,0,"div",45),t()),i&2){let o=c();l(),s("ngIf",o.passwordControl==null||o.passwordControl.errors==null?null:o.passwordControl.errors.required),l(),s("ngIf",o.passwordControl==null||o.passwordControl.errors==null?null:o.passwordControl.errors.minlength)}}function K(i,a){i&1&&(e(0,"span",50),d(),e(1,"svg",51),m(2,"circle",52)(3,"path",53),t()())}function Q(i,a){i&1&&(e(0,"span",50),d(),e(1,"svg",54),m(2,"path",55),t()())}var N=class i{fb=u(P);authService=u(E);router=u(L);route=u(S);loginForm;isLoading=!1;errorMessage="";showPassword=!1;ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required,g.minLength(8)]]})}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage="",this.authService.login(this.loginForm.value).pipe(w(()=>this.isLoading=!1)).subscribe({next:a=>{if(a){let o=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigateByUrl(o)}else this.errorMessage="Credenciales inv\xE1lidas. Por favor, intenta de nuevo."},error:a=>{this.errorMessage="Error al iniciar sesi\xF3n. Por favor, intenta de nuevo.",console.error("Login error:",a)}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}get emailControl(){return this.loginForm.get("email")}get passwordControl(){return this.loginForm.get("password")}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=x({type:i,selectors:[["app-login"]],standalone:!0,features:[b],decls:64,vars:11,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-indigo-50","to-blue-100","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8","bg-white","p-8","rounded-xl","shadow-lg","border","border-gray-200"],[1,"mt-2","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],["routerLink","/auth/register",1,"font-medium","text-indigo-600","hover:text-indigo-500"],["class","bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded-md","role","alert",4,"ngIf"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-5"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","email","name","email","type","email","formControlName","email","autocomplete","email","required","","placeholder","Correo electr\xF3nico",1,"appearance-none","block","w-full","px-3","py-2.5","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","text-xs text-red-500 mt-2 ml-1",4,"ngIf"],[1,"relative"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","password","name","password","formControlName","password","autocomplete","current-password","required","","placeholder","Contrase\xF1a",1,"appearance-none","block","w-full","px-3","py-2.5","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"type"],["type","button",1,"absolute","right-0","top-8","pr-3","flex","items-center","text-sm","leading-5",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-5 w-5 text-gray-500","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"flex","items-center","justify-between","mt-6"],[1,"flex","items-center"],["id","remember-me","name","remember-me","type","checkbox",1,"h-4","w-4","text-indigo-600","focus:ring-indigo-500","border-gray-300","rounded"],["for","remember-me",1,"ml-2","block","text-sm","text-gray-900"],[1,"text-sm"],["routerLink","/auth/forgot-password",1,"font-medium","text-indigo-600","hover:text-indigo-500"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2.5","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed","shadow-sm","transition-colors","duration-200",3,"disabled"],["class","absolute left-0 inset-y-0 flex items-center pl-3",4,"ngIf"],[1,"relative","mt-6"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],[1,"mt-6","grid","grid-cols-2","gap-3"],["type","button",1,"w-full","inline-flex","justify-center","py-2.5","px-4","border","border-gray-300","rounded-md","shadow-sm","bg-white","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","transition-colors","duration-200"],["viewBox","0 0 24 24","width","24","height","24","xmlns","http://www.w3.org/2000/svg",1,"h-5","w-5","mr-2"],["transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"],["fill","#4285F4","d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"],["fill","#34A853","d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"],["fill","#FBBC05","d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"],["fill","#EA4335","d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"],["fill","#1877F2","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-5","w-5","mr-2"],["d","M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"],[1,"mt-6","text-center"],["routerLink","/",1,"inline-flex","items-center","font-medium","text-indigo-600","hover:text-indigo-500","transition-colors"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],["role","alert",1,"bg-red-100","border-l-4","border-red-500","text-red-700","p-4","mb-4","rounded-md"],[1,"text-xs","text-red-500","mt-2","ml-1"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],[1,"absolute","left-0","inset-y-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-indigo-500","group-hover:text-indigo-400"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"]],template:function(o,n){o&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),r(4," Iniciar sesi\xF3n "),t(),e(5,"p",3),r(6," \xBFNo tienes una cuenta? "),e(7,"a",4),r(8," Reg\xEDstrate aqu\xED "),t()()(),p(9,H,3,1,"div",5),e(10,"form",6),v("ngSubmit",function(){return n.onSubmit()}),e(11,"div",7)(12,"div")(13,"label",8),r(14,"Correo electr\xF3nico"),t(),m(15,"input",9),p(16,D,3,2,"div",10),t(),e(17,"div",11)(18,"label",12),r(19,"Contrase\xF1a"),t(),m(20,"input",13),e(21,"button",14),v("click",function(){return n.togglePasswordVisibility()}),p(22,R,3,0,"svg",15)(23,Z,2,0,"svg",15),t(),p(24,J,3,2,"div",10),t()(),e(25,"div",16)(26,"div",17),m(27,"input",18),e(28,"label",19),r(29," Recordarme "),t()(),e(30,"div",20)(31,"a",21),r(32," \xBFOlvidaste tu contrase\xF1a? "),t()()(),e(33,"div")(34,"button",22),p(35,K,4,0,"span",23)(36,Q,3,0,"span",23),r(37),t()(),e(38,"div",24)(39,"div",25),m(40,"div",26),t(),e(41,"div",27)(42,"span",28),r(43,"o contin\xFAa con"),t()()(),e(44,"div",29)(45,"button",30),d(),e(46,"svg",31)(47,"g",32),m(48,"path",33)(49,"path",34)(50,"path",35)(51,"path",36),t()(),f(),e(52,"span"),r(53,"Google"),t()(),e(54,"button",30),d(),e(55,"svg",37),m(56,"path",38),t(),f(),e(57,"span"),r(58,"Facebook"),t()()(),e(59,"div",39)(60,"a",40),d(),e(61,"svg",41),m(62,"path",42),t(),r(63," Volver a la p\xE1gina de inicio "),t()()()()()),o&2&&(l(9),s("ngIf",n.errorMessage),l(),s("formGroup",n.loginForm),l(6),s("ngIf",(n.emailControl==null?null:n.emailControl.invalid)&&((n.emailControl==null?null:n.emailControl.dirty)||(n.emailControl==null?null:n.emailControl.touched))),l(4),s("type",n.showPassword?"text":"password"),l(2),s("ngIf",!n.showPassword),l(),s("ngIf",n.showPassword),l(),s("ngIf",(n.passwordControl==null?null:n.passwordControl.invalid)&&((n.passwordControl==null?null:n.passwordControl.dirty)||(n.passwordControl==null?null:n.passwordControl.touched))),l(10),s("disabled",n.isLoading||n.loginForm.invalid),l(),s("ngIf",n.isLoading),l(),s("ngIf",!n.isLoading),l(),C(" ",n.isLoading?"Iniciando sesi\xF3n...":"Iniciar sesi\xF3n"," "))},dependencies:[_,y,A,V,k,I,M,B,T,G,F]})};export{N as LoginComponent};
